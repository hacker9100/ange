<div ng-controller="myangemessage">
<!-- mainbar -->
    <div class="mainbar sub-slide0">
        <div class="container-fluid" style="clear:both; margin:0px auto; width:95%; max-width:800px;">


            <div class="row">

                <div class="col-xs-12 v-cell-3">
                    <div class="comp_basic h-cell-dynamic">

                        <div class="sub_contents_wrap">

                            <div class="sub_contents_title">
                                <span class="sub_contents_bullet"></span>
                                <h3 style="font-weight:bold;">{{community}} <!--<a href="#" class="people_boardmanager">관리자<span class="people_boardmanager_id">비타민D</span></a>--></h3>
                            </div>

                        </div><!-- /.sub_contents_wrap -->

                        <div class="sub_contents_body">

                            <!-- peoplepoll_list -->
                            <table id="comp_board_table" class="table table-hover">

                                <thead>
                                <tr class="board_thead" height="48">
                                    <td width="9%" align="center"><span class="board_th">상태</span></td>
                                    <td><span class="board_th">내용</span></td>
                                    <td width="95" align="center"><span class="board_th">보낸사람</span></td>
                                    <td width="80"><span class="board_th">작성일</span></td>
                                    <td width="60" align="center"><span class="board_th">확인여부</span></td>
                                </tr>
                                </thead>

                                <tbody class="on" ng-repeat="item in list">

                                <tr ng-click="click_showViewMessage(item.NO)" style="cursor:pointer;">
                                    <td class="table_no">
                                        <span ng-class="item.STATUS == 'RECIEVE' ? 'table_blue' : 'table_green'">{{item.STATUS == 'RECIEVE' ? '받→' : '보←'}} </span>
                                    </td>
                                    <td>
                                        <div class="table_gray" ng-bind-html="item.BODY | string_limit : 50"></div>
                                    </td>
                                    <td  class="table_author">{{item.FROM_NM}}</td>
                                    <td class="table_date">{{item.REG_DT}}</td>
                                    <td class="table_hit">{{item.CHECK_FL}}</td></tr>
                                </tr>

                                </tbody>

                                <tbody class="on" data-ng-show="list == '' || list == null">

                                <tr>
                                    <td colspan="5" style="text-align: center">조회 데이터가 없습니다.</td>
                                </tr>

                                </tbody>
                            </table><!-- /.List-->

                            <nav class="text-center">
                                <pagination boundary-links="true" total-items="TOTAL_COUNT" ng-model="PAGE_NO" class="pagination-sm" ng-change="pageChanged()" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
                            </nav><!-- /.Paging-->
                            <!-- /peoplepoll_list -->

                        </div><!-- /.sub_contents_body -->

                        <!-- 등록 -->
                        <a class="btn people_btn submit" title="등록하기" ng-show="uid != '' && uid != null" ng-click="click_regMessage();">등록</a>


                    </div>
                </div>

            </div> <!-- rows -->


        </div><!-- container-fluid -->

        <!-- 1200px 이하일 경우 표시되는 footer -->
        <div class="copyright_foot">
            <br /><br />
            <nav class="navbar navbar-default navbar-bottom" style="background-color: #fff; border:none; margin:0; border-radius: 0;">

                    <hr style="margin:0 15px 0 15px;" />

                    <center>
                        <img src="imgs/ange/footer_horicopy_01.jpg" style="margin:0px auto;" />
                    </center>
            </nav>
        </div>
        <!-- /1200px 이하일 경우 표시되는 footer -->

    </div>

    <div class="subar sub-slide1" style="padding: 10px 0 0 10px;">
        <div class="row">
            <div class="side_wrap" style="width:100%; border:1px solid black; width: 180px; margin-left:4%; ">
                우측바
            </div>
        </div>
    </div>

    <!-- /Main Page Layout Set -->
</div>

<script type="text/ng-template" id="myangemessage_view.html">
    <div class="modal-header">
        <h3 class="modal-title">쪽지 내용</h3>
    </div>
    <div class="modal-body">
        <div class="body_wrap">
            <div class="panel panel-master contentpannel" style="border:none; display:block;">
                <div class="contentpannel-body" >
                    <div class="people_view_wrap">

                        <div class="container-fluid peopleboard_view_topwrap">


                            <div class="row peopleboard_view_basicinfo">
                                <div class="col-xs-2  board_basicinfo_label">
                                    보낸사람
                                </div><!-- /.col-xs-2-->
                                <div class="col-xs-4 board_basicinfo_subject">
                                    {{item.FROM_NM}}
                                </div><!-- /.col-xs-4-->
                                <div class="col-xs-1  board_basicinfo_label">
                                    작성일
                                </div><!-- /.col-xs-2-->
                                <div class="col-xs-5 board_basicinfo_subject date">
                                    {{item.REG_DT}}
                                </div><!-- /.col-xs-4-->
                            </div><!-- /.row -->
                        </div><!-- /.container -->


                        <div class="container-fluid peopleboard_view_contentwrap">
                            <div class="row">
                                <div class="col-xs-12 peopleboard_view_contentbody">
                                    <div class="row peopleboard_view_basicinfo">
                                        <div class="col-xs-2 board_basicinfo_label">
                                            내용
                                        </div><!-- /.col-xs-2-->

                                        <!-- Editor CSS 적용 -->
                                        <div ng-bind-html="item.BODY" style="margin:0px auto; padding:50px;"></div>
                                    </div><!-- /.row -->
                                </div><!-- /.col-12-->
                            </div><!-- /.row -->
                        </div><!-- /.container -->
                    </div><!-- /.row -->
                </div><!-- /.container -->
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="click_ok()">확인</button>
    </div>
</script>

<script type="text/ng-template" id="myangemessage_edit.html">
    <div class="modal-header">
        <h3 class="modal-title">쪽지 내용</h3>
    </div>
    <div class="modal-body">
        <div class="body_wrap">
            <div class="panel panel-master contentpannel" style="border:none; display:block;">
                <div class="contentpannel-body" >
                    <div class="people_view_wrap">

                        <div class="container-fluid peopleboard_view_topwrap">


                            <div class="row peopleboard_view_basicinfo">
                                <div class="col-xs-3" style="padding:0;">
                                    받는사람 ID
                                </div><!-- /.col-xs-2-->
                                <div class="col-xs-8" style="padding-left:5px;">
                                    <input type="text" ng-model="item.TO_ID" placeholder="받는사람 ID"/>><!--{{item.FROM_ID}}-->
                                </div><!-- /.col-xs-4-->
                                <div class="col-xs-3" style="padding:0;">
                                    받는사람명
                                </div><!-- /.col-xs-2-->
                                <div class="col-xs-8" style="padding-left:5px;">
                                    <input type="text" ng-model="item.TO_NM" placeholder="받는사람 명"/><!--{{item.FROM_NM}}-->
                                </div><!-- /.col-xs-4-->
                            </div><!-- /.row -->
                        </div><!-- /.container -->


                        <div class="col-xs-12 people_editor">
                            <!--에디터 넣을자리 <br/>-->
                            <!--- (글꼴, 글색, 글크기(12,14,16,18pt)/  <br/>-->
                            <!--- 본문 정렬   <br/>-->
                            <!--- 굵게,기울기,취소,밑줄  <br/>-->
                            <!--- HTML-->
                            내용
                            <div style="border:1px solid #DEDEDE; width:100%; float:left;">
                                <div>
                                    <textarea id="editor1" ng-model="item.BODY" ckeditor="editorOptions" disabled="{{scope.isDisabled}}"></textarea>
                                </div>
                            </div>
                        </div><!-- /.people_editor -->
                    </div><!-- /.row -->
                </div><!-- /.container -->
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="click_reg();">등록</button>
        <button class="btn btn-primary" ng-click="click_close();">닫기</button>
    </div>
</script>