define(["controller/controllers"],function(e){e.controller("dashboard_main",["$scope","$rootScope","$location","dialogs","COMMON",function(a,d,f,e,g){a.init=function(){a.oneAtATime=!0;a.PAGE_NO=0;a.PAGE_SIZE=g.DASHBOARD_PAGE_SIZE};a.click_showTaskList=function(){f.url("/task/list")};a.click_showTaskView=function(a){f.url("/task/view/"+a)};a.click_showViewContent=function(a){var b="edit";if("10"==a.PHASE||"11"==a.PHASE)b="article";else if("20"==a.PHASE||"21"==a.PHASE)b="edit";f.url("/"+b+"/view/"+
    a.NO)};a.click_showGetHistory=function(c){a.openModal({TASK_NO:c},"lg")};a.openModal=function(c,b){e.create("/partials/cms/popup/history.html",function(a,b,d){a.getList("cms/history","list",{},c,!0).then(function(b){a.list=b})["catch"](function(a){console.log(a)});a.list=d;a.click_ok=function(){b.close()}},c,{size:b,keyboard:!0},a).result.then(function(){},function(){})};a.getTaskList=function(){var c={};"CMS_ADMIN"!=d.role&&"MANAGER"!=d.role&&(c={EDITOR_ID:d.uid});a.isLoading=!0;a.getList("cms/task",
    "list",{NO:a.PAGE_NO,SIZE:a.PAGE_SIZE},c,!0).then(function(b){a.list=b})["catch"](function(b){a.list=[];console.log(b)})["finally"](function(){a.isLoading=!1})};a.setTitle=function(c){a.$parent.$parent.pageDescription=d.name+" \ub2d8\uc758 \ub300\uc2dc\ubcf4\ub4dc\uc785\ub2c8\ub2e4."};a.getSession().then(a.sessionCheck).then(a.permissionCheck).then(a.setTitle)["catch"](a.reportProblems);a.init();a.getTaskList()}])});