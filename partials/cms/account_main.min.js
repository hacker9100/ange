define(["controller/controllers"],function(controllers){controllers.controller("account_main",["$scope","$rootScope","dialogs",function($scope,$rootScope,dialogs){$scope.phoneNumberPattern=function(){var regexp=/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/;return{test:function(value){return regexp.test(value)}}}();$scope.init=function(){};$scope.click_saveCmsUser=function(){$scope.updateItem("com/user","item",$scope.item.USER_ID,$scope.item,true).then(function(){dialogs.notify("\uc54c\ub9bc","\uc815\uc0c1\uc801\uc73c\ub85c \uc218\uc815 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{size:"md"})})["catch"](function(error){dialogs.error("\uc624\ub958",error+"",{size:"md"})})};$scope.getCmsUser=function(){if($rootScope.uid!="")$scope.getItem("com/user","item",$rootScope.uid,{},true).then(function(data){$scope.item=data})["catch"](function(error){dialogs.error("\uc624\ub958",error+"",{size:"md"})});else dialogs.error("\uc624\ub958","\uc870\ud68c \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",{size:"md"})};$scope.click_cancel=function(){$scope.item={};$scope.getSession().then($scope.sessionCheck).then($scope.getCmsUser)["catch"]($scope.reportProblems)};$scope.init();$scope.getSession().then($scope.sessionCheck).then($scope.getCmsUser)["catch"]($scope.reportProblems)}])});