<div class="panel panel-primary">
    <div class="panel-body" ng-model="search" lass="row">

        <form role="form" name="search_form" class="form-horizontal">
            <div class="col-md-9">
                <div class= "form-group">
                    <label class= "col-md-2">검색</label>
                    <div class= "col-md-4">
                        <select ng-model="search.ROLE" ng-options="role.ROLE_NM for role in roles" class= "form-control" >
                            <option name="" value="">- 권한</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <input ng-model="search.KEYWORD" type= "text" class= "form-control" placeholder= "검색어"/>
                    </div>
                </div>
            </div>
            <div class="col-md-pull-2">
                <div class= "navbar-header" >
                    <button class="btn btn-primary start" ng-click="click_searchCmsUser();" ng-disabled="search_form.$invalid">
                        <i class="glyphicon glyphicon-search"></i>
                        <span>검색</span>
                    </button>
                </div>
            </div>
        </form>

    </div>
</div>

<!--<div id="feedLoading" ng-show="isLoading">Loading...</div>-->
<!---->
<!-- Contents Include -->
<!-- 목록 -->
<!--<table class="table table-striped table-condensed" >-->
    <!--<thead>-->
    <!--<tr>-->
        <!--<th>이름</th>-->
        <!--<th>권한</th>-->
        <!--<th>등록일</th>-->
        <!--<th>상태</th>-->
        <!--<th>기능</th>-->
    <!--</tr>-->
    <!--</thead>-->
    <!--<tbody>-->
    <!--<tr ng-repeat="item in list">-->
        <!--<td>{{ item.USER_NM }}</td>-->
        <!--<td>{{ item.ROLE_NM }}</td>-->
        <!--<td>{{ item.REG_DT }}</td>-->
        <!--<td>{{ item.USER_ST == '0' ? '이용가능' : '이용정지' }}</td>-->
        <!--<td>-->
            <!--<a ng-click="click_getCmsUser(item.USER_ID)">편집</a>-->
            <!--<a ng-click="click_updateStatus($index)">상태변경</a>-->
            <!--<a ng-click="click_deleteCmsUser($index)">삭제</a>-->
        <!--</td>-->
    <!--</tr>-->
    <!--</tbody>-->
<!--</table>-->

<div loading-container="tableParams.settings().$loading">
    <table ng-table="tableParams" class="table">
    <tbody ng-repeat="group in $groups">
        <tr class="ng-table-group">
            <td colspan="{{$columns.length}}">
                <a href="" ng-click="group.$hideRows = !group.$hideRows">
                    <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
                    <strong>{{ group.value }}</strong>
                </a>
            </td>
        </tr>
        <tr ng-hide="group.$hideRows" ng-repeat="item in group.data">
            <td data-title="'이름'" sortable="'USER_NM'">
                {{item.USER_NM}}
            </td>
            <td data-title="'권한'" sortable="'ROLE'">
                {{item.ROLE_NM}}
            </td>
            <td data-title="'등록일'" sortable="'REG_DT'">
                {{item.REG_DT}}
            </td>
            <td data-title="'상태'" sortable="'USER_ST'">
                {{item.USER_ST == '0' ? '이용가능' : '이용정지'}}
            </td>
            <td data-title="'기능'">
                <a ng-click="click_getCmsUser(item.USER_ID)">편집</a>
                <a ng-click="click_updateStatus(item)">상태변경</a>
                <a ng-click="click_deleteCmsUser($parent.$index, $index)">삭제</a>
            </td>
        </tr>
    </tbody>
    <tbody ng-show="$groups == ''">
        <tr>
            <td colspan="5" style="text-align: center">조회 데이터가 없습니다.</td>
        </tr>
    </tbody>
    </table>
</div>

<!-- ////Contents Include -->

<!-- Contents Include -->
<div class="col-md-12">

    <form role="form" name="edit_form" class="form-horizontal form_basic_100">
        <div ng-model="item" lass="row form_basic_wrap">
            <div class="form-group form_basic_group" ng-class="{error: edit_form.item_id.$invalid}">
                <label class= "form_basic_label">아이디</label>
                <div class="form_basic_input">
                    <input name="item_id" ng-model="item.USER_ID" type= "text" class= "form-control" placeholder="사용자 아이디" required/>
                    <span ng-show="edit_form.item_id.$dirty && edit_form.item_id.$invalid" class="help-inline">사용자 아이디가 누락되었습니다.</span>
                </div>
            </div>
            <div class= "form-group form_basic_group">
                <label class= "form_basic_label">권한</label>
                <div class= "form_basic_input">
                    <select ng-model="item.ROLE" ng-options="role.ROLE_NM for role in user_roles" class= "form-control" ></select>
                </div>
            </div>
            <div class= "form-group form_basic_group" ng-class="{error: edit_form.user_name.$invalid}">
                <label class= "form_basic_label">이름</label>
                <div class="form_basic_input">
                    <input name="user_name" ng-model="item.USER_NM" type= "text" class= "form-control" placeholder="사용자 이름" required/>
                    <span ng-show="edit_form.user_name.$dirty && edit_form.user_name.$invalid" class="help-inline">사용자 이름이 누락되었습니다.</span>
                </div>
            </div>
            <div class="form-group form_basic_group">
                <label class= "form_basic_label">연락처</label>
                <div class="form_basic_input">
                    <input name="phone" ng-model="item.PHONE_1" type= "text" maxlength="15" ng-pattern="/^\d{0,15}(\.\d{1,9})?$/" class= "form-control" placeholder= "사용자 연락처"/>
                    <span ng-show="edit_form.phone.$invalid" class="help-inline">숫자만 입력 가능합니다.</span>
                </div>
            </div>
            <div class= "form-group form_basic_group">
                <label class= "form_basic_label">회신메일</label>
                <div class="form_basic_input">
                    <input name="email" ng-model="item.EMAIL" type= "email" class= "form-control" placeholder= "사용자 이메일"/>
                    <span ng-show="edit_form.email.$error.email" class="help-inline">이메일 형식이 맞지 않습니다.</span>
                </div>
            </div>
            <div class= "form-group form_basic_group">
                <label class= "form_basic_label">소개</label>
                <div class= "col-xs-6 form_basic_input" style="min-width:610px;">
                    <textarea ng-model="item.INTRO" class= "form-control" placeholder= "소개.."/>
                </div>
            </div>
            <div class= "form-group form_basic_group">
                <label class= "form_basic_label">메모</label>
                <div class= "col-xs-6 form_basic_input" style="min-width:610px;">
                    <textarea ng-model="item.NOTE" class= "form-control" placeholder= "메모.."/>
                </div>
            </div>

            <!-- 하단 버튼 -->
            <div class="raw" style="float:left; width:100%; margin-top:50px; padding-top:10px; border-top:1px solid #DEDEDE;">
                <div class="col-xs-12 form-group form_basic" style="text-align:center;">
                    <button type="button" class="btn btn-primary btn-xs start" ng-click="click_saveCmsUser();" ng-disabled="edit_form.$invalid">
                        <i class="glyphicon glyphicon-plus"></i>
                        <span>저장</span>
                    </button>
                    <button type="button" class="btn btn-warning btn-xs cancel" ng-click="click_cancel();">
                        <i class="glyphicon glyphicon-ban-circle"></i>
                        <span>취소</span>
                    </button>
                </div>
            </div>

        </div>
    </form>

</div>
<!-- ////Contents Include -->

