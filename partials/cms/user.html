<div class="panel panel-primary">
    <div class="panel-body" ng-model="search" lass="row">

        <form role="form" name="listForm" class="form-horizontal">
            <div class="col-md-9">
                <div class= "form-group">
                    <label class= "col-md-2">검색</label>
                    <div class= "col-md-4">
                        <select ng-model="search.ROLE" ng-options="role.ROLE_NM for role in roles" class= "form-control" ></select>
                    </div>
                    <div class="col-md-6">
                        <input ng-model="search.KEYWORD" type= "text" class= "form-control" placeholder= "검색어"/>
                    </div>
                </div>
            </div>
            <div class="col-md-pull-2">
                <div class= "navbar-header" >
                    <button class="btn btn-primary start" ng-click="searchUser();" ng-disabled="listForm.$invalid">
                        <i class="glyphicon glyphicon-search"></i>
                        <span>검색</span>
                    </button>
                </div>
            </div>
        </form>

    </div>
</div>

<!--<div id="veil" ng-show="isLoading"></div>-->
<div id="feedLoading" ng-show="isLoading">Loading...</div>

<!-- Contents Include -->
<!-- 목록 -->
<table class="table table-striped table-condensed" >
    <thead>
    <tr>
        <th>이름</th>
        <th>권한</th>
        <th>등록일</th>
        <th>상태</th>
        <th>기능</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="user in users">
        <td><a ng-click="getCmsUser(user.USER_ID)">{{ user.USER_NM }}</a></td>
        <td>{{ user.ROLE_NM }}</td>
        <td>{{ user.REG_DT }}</td>
        <td>{{ user.USER_ST == '0' ? '이용가능' : '이용정지' }}</td>
        <td><a ng-click="deleteCmsUser($index)">삭제</a></td>
    </tr>
    </tbody>
</table>
<!-- ////Contents Include -->

<!-- Contents Include -->
<div class="col-md-12">

    <form role="form" name="editForm" class="form-horizontal">
        <div ng-model="user" lass="row">
            <div class= "form-group" ng-class="{error: editForm.user_id.$invalid}">
                <label class= "col-md-2">아이디</label>
                <div class="col-md-4">
                    <input name="user_id" ng-model="user.USER_ID" type= "text" class= "form-control" placeholder="사용자 아이디" required/>
                    <span ng-show="editForm.user_id.$dirty && editForm.user_id.$invalid" class="help-inline">사용자 아이디가 누락되었습니다.</span>
                </div>
            </div>
            <div class= "form-group">
                <label class= "col-md-2">권한</label>
                <div class= "col-md-4">
                    <select ng-model="user.ROLE" ng-options="role.ROLE_NM for role in user_roles" class= "form-control" ></select>
                </div>
            </div>
            <div class= "form-group" ng-class="{error: editForm.user_name.$invalid}">
                <label class= "col-md-2">이름</label>
                <div class="col-md-4">
                    <input name="user_name" ng-model="user.USER_NM" type= "text" class= "form-control" placeholder="사용자 이름" required/>
                    <span ng-show="editForm.user_name.$dirty && editForm.user_name.$invalid" class="help-inline">사용자 이름이 누락되었습니다.</span>
                </div>
            </div>
            <div class= "form-group">
                <label class= "col-md-2">연락처</label>
                <div class="col-md-4">
                    <input ng-model="user.PHONE" type= "text" class= "form-control" placeholder= "사용자 연락처"/>
                </div>
            </div>
            <div class= "form-group">
                <label class= "col-md-2">회신메일</label>
                <div class="col-md-4">
                    <input name="email" ng-model="user.EMAIL" type= "email" class= "form-control" placeholder= "사용자 이메일"/>
                    <span ng-show="editForm.email.$error.email" class="help-inline">이메일 형식이 맞지 않습니다.</span>
                </div>
            </div>
            <div class= "form-group">
                <label class= "col-md-2">메모</label>
                <div class= "col-md-6">
                    <textarea ng-model="user.NOTE" class= "form-control" placeholder= "간략한 자기소개.."/>
                </div>
            </div>

            <!-- 하단 버튼 -->
            <div class= "form-group">
                <div class="col-md-4">
                    <button type="button" class="btn btn-primary start" ng-click="saveCmsUser();" ng-disabled="editForm.$invalid">
                        <i class="glyphicon glyphicon-plus"></i>
                        <span>저장</span>
                    </button>
                    <button type="button" class="btn btn-warning cancel" ng-click="cancel();">
                        <i class="glyphicon glyphicon-ban-circle"></i>
                        <span>취소</span>
                    </button>
                </div>
            </div>

        </div>
    </form>

</div>
<!-- ////Contents Include -->

