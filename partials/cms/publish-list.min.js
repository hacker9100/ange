define(["controller/controllers"],function(c){c.controller("publish-list",["$scope","$rootScope","$stateParams","$location","dialogs","ngTableParams","COMMON",function(a,c,k,e,l,g,m){a.search={STATUS:"2"};var f=[],h=(new Date).getFullYear();a.init=function(){for(var b=2010;b<h+5;b++)f.push(b+"");b=[{name:"\ub4f1\ub85d\uc790",value:"REG_NM"},{name:"\uc81c\ubaa9+\ub0b4\uc6a9",value:"SUBJECT"}];a.years=f;a.conditions=b;a.search.CONDITION=b[0]};a.click_showViewProject=function(a){e.url("/project/view/"+
    a)};a.click_publishProject=function(b){e.path("/publish/edit/"+a.tableParams.data[b].NO)};a.click_searchProject=function(){a.tableParams.reload()};a.getProjectList=function(){a.tableParams=new g({page:1,count:a.PAGE_SIZE,sorting:{REG_DT:"desc"}},{counts:[],total:0,getData:function(b,d){var c=Object.keys(d.sorting())[0];a.search.SORT=c;a.search.ORDER=d.sorting()[c];a.getList("cms/project","list",{NO:d.page()-1,SIZE:a.PAGE_SIZE},a.search,!0).then(function(a){d.total(a[0].TOTAL_COUNT);b.resolve(a)})["catch"](function(a){b.resolve([])})}})};
    a.$watch("selectItems * selectCount < itemsPerPage * currentPage",function(){a.selectCount+=1});a.getSession().then(a.sessionCheck).then(a.permissionCheck)["catch"](a.reportProblems);a.init();a.getProjectList()}])});