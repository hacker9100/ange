define(["controller/controllers"],function(f){f.controller("webboard-list",["$scope","$rootScope","$stateParams","$location","dialogs","ngTableParams",function(a,b,f,e,c,g){a.search={SYSTEM_GB:"CMS"};a.init=function(){var d=[{name:"\ub4f1\ub85d\uc790",value:"REG_NM"},{name:"\uc81c\ubaa9+\ub0b4\uc6a9",value:"SUBJECT"}];a.conditions=d;a.search.CONDITION=d[0]};a.click_showCreateNewCmsBoard=function(){e.url("/webboard/edit/0")};a.click_showViewCmsBoard=function(a){e.url("/webboard/view/"+a)};a.click_showEditCmsBoard=
    function(a){"CMS_ADMIN"!=b.role&&"MANAGER"!=b.role&&b.uid!=a.REG_UID?c.notify("\uc54c\ub9bc","\uc218\uc815 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",{size:"md"}):e.path("/webboard/edit/"+a.NO)};a.click_deleteCmsBoard=function(d){"CMS_ADMIN"!=b.role&&"MANAGER"!=b.role&&b.uid!=d.REG_UID?c.notify("\uc54c\ub9bc","\uc0ad\uc81c \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",{size:"md"}):c.confirm("\uc54c\ub9bc","\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c.",{size:"md"}).result.then(function(b){a.deleteItem("com/webboard",
    "item",d.NO,!1).then(function(){c.notify("\uc54c\ub9bc","\uc815\uc0c1\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{size:"md"});a.tableParams.reload()})["catch"](function(a){c.error("\uc624\ub958",a+"",{size:"md"})})},function(a){})};a.click_searchCmsBoard=function(){a.tableParams.$params.page=1;a.tableParams.reload()};a.PAGE_SIZE=10;a.getCmsBoardList=function(){a.tableParams=new g({page:1,count:a.PAGE_SIZE,sorting:{REG_DT:"desc"}},{counts:[],total:0,getData:function(d,b){var c=
    Object.keys(b.sorting())[0];a.search.SORT=c;a.search.ORDER=b.sorting()[c];a.getList("com/webboard","list",{NO:b.page()-1,SIZE:a.PAGE_SIZE},a.search,!0).then(function(c){var e=c[0].TOTAL_COUNT;a.TOTAL_COUNT=e;b.total(e);d.resolve(c)})["catch"](function(b){a.TOTAL_COUNT=0;d.resolve([])})}})};a.getSession().then(a.sessionCheck).then(a.init).then(a.getCmsBoardList)["catch"](a.reportProblems)}])});