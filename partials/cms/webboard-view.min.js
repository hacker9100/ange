define(["controller/controllers"],function(k){k.controller("webboard-view",["$scope","$rootScope","$stateParams","$location","dialogs","UPLOAD",function(b,d,f,g,h,e){b.queue=[];b.item={};b.init=function(a){};b.click_showCmsBoardEdit=function(a){"CMS_ADMIN"!=d.role&&"MANAGER"!=d.role&&d.uid!=a.REG_UID?h.notify("\uc54c\ub9bc","\uc218\uc815 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",{size:"md"}):g.url("/webboard/edit/"+a.NO)};b.click_showCmsBoardList=function(){g.url("/webboard/list")};b.getCmsBoard=
    function(){if(0!=f.id)return b.getItem("com/webboard","item",f.id,{},!1).then(function(a){b.item=a;a=a.FILES;for(var c in a)b.queue.push({name:a[c].FILE_NM,size:a[c].FILE_SIZE,url:e.BASE_URL+a[c].PATH+a[c].FILE_ID,thumbnailUrl:e.BASE_URL+a[c].PATH+"thumbnail/"+a[c].FILE_ID,mediumUrl:e.BASE_URL+a[c].PATH+"medium/"+a[c].FILE_ID,deleteUrl:"http://localhost/serverscript/upload/?file="+a[c].FILE_NM,deleteType:"DELETE"})})["catch"](function(a){h.error("\uc624\ub958",a+"",{size:"md"})})};b.getSession().then(b.sessionCheck).then(b.init).then(b.getCmsBoard)["catch"](b.reportProblems)}])});