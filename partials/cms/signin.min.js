define(["controller/controllers"],function(controllers){controllers.controller("signin",["$scope","$rootScope","$location","$controller","dialogs",function($scope,$rootScope,$location,$controller,dialogs){angular.extend(this,$controller("cms_common",{$scope:$scope}));$scope.item={};$scope.message="Welcome to ANGE CMS";$scope.click_lostAccount=function(){$location.url("/forgot_idpw")};$scope.loginMe=function(){$scope.item.SYSTEM_GB="CMS";$scope.login($scope.item.id,$scope.item).then(function(data){$rootScope.authenticated=true;$rootScope.uid=data.USER_ID;$rootScope.name=data.USER_NM;$rootScope.role=data.ROLE_ID;$rootScope.menu_role=data.MENU_ROLE;$rootScope.email=data.EMAIL;$location.url("/dashboard/main")})["catch"](function(error){dialogs.error("\uc624\ub958",error+"",{size:"md"})})};$scope.sessionCheck=function(session){if(session.USER_ID!=undefined&&session.USER_ID!=""){$rootScope.authenticated=true;$rootScope.uid=session.USER_ID;$rootScope.name=session.USER_NM;$rootScope.role=session.ROLE_ID;$rootScope.menu_role=session.MENU_ROLE;$rootScope.email=session.EMAIL;dialogs.notify("\uc54c\ub9bc","\uc774\ubbf8 \ub85c\uadf8\uc778 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{size:"md"});$location.url("/dashboard/main")}return session};$scope.getSession().then($scope.sessionCheck)["catch"]($scope.reportProblems)}])});